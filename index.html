<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Retrieve and Summarize NCCN Climate Data • nccnclimate</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Retrieve and Summarize NCCN Climate Data">
<meta name="description" content="Built for North Coast Cascades Network (NPS Inventory &amp; Monitoring Division). Loads climate data from Aquarius, performs data summaries, and exports data to CSV and Excel.">
<meta property="og:description" content="Built for North Coast Cascades Network (NPS Inventory &amp; Monitoring Division). Loads climate data from Aquarius, performs data summaries, and exports data to CSV and Excel.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">nccnclimate</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="nccnclimate">nccnclimate<a class="anchor" aria-label="anchor" href="#nccnclimate"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of nccnclimate is to provide tools in R that allow users to easily retrieve NCCN climate data from Aquarius and export it to Excel.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of nccnclimate from <a href="https://github.com/nationalparkservice/nccn-climate" class="external-link">its GitHub repository</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"nationalparkservice/nccn-climate"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="how-to-use">How to use<a class="anchor" aria-label="anchor" href="#how-to-use"></a>
</h2>
<p>It’s recommended (but not required) that you create an RStudio project to store your data retrieval script and your data exports together in one place. For more information on how to set up RStudio projects and why they’re useful, check out <a href="https://rfortherestofus.com/2022/10/rstudio-projects/" class="external-link">this introduction for beginners</a>.</p>
<div class="section level3">
<h3 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h3>
<p>Each time you use the nccnclimate package, you need to load it and then use the <code>connectToAquarius</code> function to log in to Aquarius. <em>You must be on the DOI network.</em> Be sure to put the following code at the top of any script that uses this package. If your code worked the last time you ran it but is now generating errors, it is most likely because you aren’t on the DOI network, forgot to load the nccnclimate package, and/or forgot to connect to Aquarius.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nationalparkservice.github.io/nccn-climate/">nccnclimate</a></span><span class="op">)</span></span>
<span><span class="co">## You must authenticate with Aquarius first</span></span>
<span><span class="fu"><a href="https://wright13.github.io/imd-fetchaquarius/reference/connectToAquarius.html" class="external-link">connectToAquarius</a></span><span class="op">(</span><span class="st">"aquarius read only username here"</span>, <span class="st">"aquarius read only password here"</span><span class="op">)</span></span></code></pre></div>
<p>It’s also good practice to put <code><a href="https://wright13.github.io/imd-fetchaquarius/reference/disconnectFromAquarius.html" class="external-link">disconnectFromAquarius()</a></code> at the end of your script.</p>
</div>
<div class="section level3">
<h3 id="export-data-to-excel">Export data to Excel<a class="anchor" aria-label="anchor" href="#export-data-to-excel"></a>
</h3>
<p>After you run the setup code, you can use the rest of the functions in this package. Here is an example of how to export data to Excel spreadsheets.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">park</span> <span class="op">&lt;-</span> <span class="st">"OLYM"</span></span>
<span><span class="va">wy</span> <span class="op">&lt;-</span> <span class="fl">2022</span></span>
<span></span>
<span><span class="fu"><a href="reference/exportNCCNDailySummaries.html">exportNCCNDailySummaries</a></span><span class="op">(</span>park_code <span class="op">=</span> <span class="va">park</span>, water_year <span class="op">=</span> <span class="va">wy</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/exportNCCNMonthlySummaries.html">exportNCCNMonthlySummaries</a></span><span class="op">(</span>park_code <span class="op">=</span> <span class="va">park</span>, water_year <span class="op">=</span> <span class="va">wy</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/exportNCCNDailyPeriodOfRecord.html">exportNCCNDailyPeriodOfRecord</a></span><span class="op">(</span>park_code <span class="op">=</span> <span class="va">park</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/exportNCCNMonthlyPeriodOfRecord.html">exportNCCNMonthlyPeriodOfRecord</a></span><span class="op">(</span>park_code <span class="op">=</span> <span class="va">park</span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="changing-where-exports-are-saved">Changing where exports are saved<a class="anchor" aria-label="anchor" href="#changing-where-exports-are-saved"></a>
</h4>
<p>In the example above, each data export will be saved under a default file name in R’s current working directory. If you’re using an RStudio project, this will just be the project folder and you don’t need to do anything else. This is the simplest option.</p>
<p>If you aren’t using an RStudio project, you can paste <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd()</a></code> (“get working directory”) into RStudio’s console window and hit Enter to see which folder the data exports will be saved to by default. To use a different folder, run <code>setwd("C:/Users/yourusername/your/folder/here")</code>, replacing the path in quotes with the path to the folder where you want the exports saved.</p>
</div>
<div class="section level4">
<h4 id="choosing-custom-file-names">Choosing custom file names<a class="anchor" aria-label="anchor" href="#choosing-custom-file-names"></a>
</h4>
<p>You can also choose a custom file name for your data export, like so:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/exportNCCNDailySummaries.html">exportNCCNDailySummaries</a></span><span class="op">(</span>park_code <span class="op">=</span> <span class="va">park</span>, water_year <span class="op">=</span> <span class="va">wy</span>, file_out <span class="op">=</span> <span class="st">"your_custom_filename.xlsx"</span><span class="op">)</span></span></code></pre></div>
<p>Make sure to include the “.xlsx” file extension. You can also use the <code>file_out</code> option to save your custom named file to a different folder instead of using <code>setwd</code>. Make sure that the folder actually exists, as the export functions will not create new folders for you.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/exportNCCNDailySummaries.html">exportNCCNDailySummaries</a></span><span class="op">(</span>park_code <span class="op">=</span> <span class="va">park</span>, water_year <span class="op">=</span> <span class="va">wy</span>, file_out <span class="op">=</span> <span class="st">"your/folder/path/your_custom_filename.xlsx"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="overwriting-existing-exports">Overwriting existing exports<a class="anchor" aria-label="anchor" href="#overwriting-existing-exports"></a>
</h4>
<p>By default, the export functions will never overwrite an existing file. If you want to override that default, change the <code>overwrite</code> option to <code>TRUE</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/exportNCCNDailySummaries.html">exportNCCNDailySummaries</a></span><span class="op">(</span>park_code <span class="op">=</span> <span class="va">park</span>, water_year <span class="op">=</span> <span class="va">wy</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="view-exported-data-in-r">View exported data in R<a class="anchor" aria-label="anchor" href="#view-exported-data-in-r"></a>
</h4>
<p>All four export functions <em>invisibly return</em> the data that was written to the Excel file. This means that if you run the code examples above, the data won’t be printed to the console. However, if you wish to examine the data in R, you can store it in a variable (see below). The export functions return a list of data frames in R where each data frame corresponds to a tab in the Excel file.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">park</span> <span class="op">&lt;-</span> <span class="st">"OLYM"</span></span>
<span><span class="va">wy</span> <span class="op">&lt;-</span> <span class="fl">2022</span></span>
<span></span>
<span><span class="co"># Write the data to Excel, but also store it in a variable so it can be examined in R</span></span>
<span><span class="va">olym_2022</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/exportNCCNDailySummaries.html">exportNCCNDailySummaries</a></span><span class="op">(</span>park_code <span class="op">=</span> <span class="va">park</span>, water_year <span class="op">=</span> <span class="va">wy</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># See the names of the data frames in the list</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">olym_2022</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Preview the top several rows of the average air temp data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">olym_2022</span><span class="op">$</span><span class="va">AirTemp_Average_F</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get a basic summary of the avg air temp data (useful for QC!)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">olym_2022</span><span class="op">$</span><span class="va">AirTemp_Average_F</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>CC0</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing nccnclimate</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Sarah Wright <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0009-0004-5060-2189" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sarah Wright.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
